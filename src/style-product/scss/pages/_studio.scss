// 스타일 검토를 위한 예전 클래스들
.canvas .box {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

// area
.object-area .chart-container.chart-bg-none {
  background-color: transparent;
}

.object-area {
  // 단일값
  .single-value {
    width: 100%;
    height: 100%;
    background: $ui-02;
    padding: 8px 4px;
    text-align: center;
  }

  .single-value::before {
    content: "";
    display: inline-block;
    width: 0;
    height: 100%;
    vertical-align: middle;
    margin-right: -4px;
  }

  .single-value span {
    vertical-align: middle;
  }

  // 차트
  .chart-container {
    width: 100%;
    height: 100%;
    background-color: $ui-02;
  }

  .chart-container .chart {
    padding: $spacing-2xs;
    width: 100%;
    height: 100%;
  }

  // motion chart
  .motion-chart,
  .sankey-chart {
    width: 100%;
    height: 100%;
    background: $ui-01;
    padding: 8px 12px 12px;
  }

  .motion-chart .chart {
    margin-top: 29px;
  }

  // studio 모션 차트 옵션 설정 스타일
  .motion-chart-btn-group {
    display: flex;
  }

  .motion-chart-btn-group .mu-btn + .mu-btn {
    margin-left: $spacing-2xs;
  }

  .motion-chart-btn-group + .chart-option-btn {
    margin-left: $spacing-md;
  }

  // grid
  .grid-chart {
    color: $text-01;
    display: flex;
    flex-flow: column;
    width: 100%;
    height: 100%;
    padding: 10px;
    background: $ui-02;
    overflow-y: hidden;
    overflow-x: auto;
  }
}

// TODO: IAP 등 서비스 만들 떄 재사용 가능한 부분이 있다면 ../layout/common.scss 파일로 분리해야함.
.editor-layout {
  display: flex;
  flex-direction: column;
}

.editor-layout-head {
  @include layer("raised");
  display: flex;
  flex-direction: column;
  background-color: $ui-01;
  z-index: z("header");
}

.editor-layout-head__top-bar {
  display: flex;
  align-items: center;
  padding: $spacing-xs $spacing-xs $spacing-xs $spacing-sm;
}

.editor-layout-head__title-wrap {
  display: flex;
  flex: 1;
  align-items: center;
}

.editor-layout-head__title {
  @include line-height("heading");
}

.editor-layout-head__title-text {
  @include font-weight("medium");
}

.editor-layout-head__title-button {
  margin-left: $spacing-2xs;
}

.editor-layout-head__action-buttons {
  display: flex;
  align-items: center;
}

.editor-layout-head__action-buttons .button + .button {
  margin-left: $spacing-2xs;
}

.editor-layout-head__menu-bar {
  display: flex;
  background-color: $ui-02;
  padding: $spacing-xs $spacing-xs $spacing-xs $spacing-sm;
}

.editor-layout-head__menu-bar .select {
  flex-shrink: 0;
}

.editor-layout-head__object-list {
  display: flex;
  flex: 1;
  margin-left: $spacing-xs;
}

.editor-layout-head__object-list-item {
  margin-right: $spacing-2xs;
  border-radius: $button-border-radius;
}

.editor-layout-head__object-list-item--selected {
  background-color: darken($ui-01, 3%);
}

.editor-layout-head__additinal-buttons {
  display: flex;
}

.editor-layout-body {
  display: flex;
  flex: 1;
  overflow: auto;
}

.editor-layout-body__side-penal {
  width: rem(300px);
  background-color: $ui-01;
  overflow: auto;
}

.editor-layout-body__canvas-wrap {
  flex: 1;
  padding: $layout-2xs;
  overflow: auto;
  background-color: $ui-04;
}

.editor-layout-body__canvas {
  background-color: $ui-02;
  border: 1px solid $ui-04;
}

#canvas-area {
  background-image: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 1px, transparent 0, transparent 10px),
    repeating-linear-gradient(-90deg, rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 1px, transparent 0, transparent 10px);
  background-size: 10px 10px;
  background-position: 1px 1px;
}

// -------------------------
// 객체 기본 box 스타일
// -------------------------
.basic-drag {
  border: 1px solid $secondary;
  background-color: rgba($secondary, 0.15);
  position: absolute;
}

.multi-drag {
  border: 1px solid $secondary;
  position: absolute;
}

.group-component {
  border: 1px dashed $secondary;
  position: absolute;
}

.prevent-click {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 5;
}

.iframe-box {
  position: absolute;
  left: 0;
  margin: 0;
  width: 100%;
  height: 100%;
  border: none;
  overflow: hidden;
}

// -------------------------
// 캔버스 내부 객체
// -------------------------
.canvas-object {
  position: absolute;
  top: 0;
  left: 0;
  user-select: none;
}

.canvas-object--active::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: 1px solid $secondary;
  border-radius: 0;
  z-index: 4;
  pointer-events: none;
  margin: -1px;
}

.canvas-object-inner {
  position: absolute;
  top: 0;
  left: 0;
  right: auto;
  bottom: auto;
  width: 100%;
  height: 100%;
  // z-index: 5;
}

// 기본 박스 스타일들
.object-area,
.object-image,
.object-renew,
.object-map {
  background: $odd-row;
  border: 1px solid transparent;

  &:hover:not([preview]) {
    border: 1px solid $secondary;
  }

  &.canvas-object--active {
    background-color: $ui-01;
  }
}

.object-list {
  background: $ui-02;
  border: 1px solid transparent;

  &:hover:not([preview]) {
    border: 1px solid $secondary;
  }
}

.object-html {
  background: $ui-02;
  border: 1px solid $ui-04;

  &:hover:not([preview]) {
    border: 1px solid $secondary;
  }
}

// background-image를 사용하는 유형 area, image, period

@function areaIcon($color) {
  $color: "%23" + $color;
  $icon: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 32 32'%3E%3Cpath fill='#{$color}' d='M2.2 28V2.2h1.6v26h3.4v-16h7.6v16h4.4v-12h7.6v12h3v1.6H4A1.8 1.8 0 012.2 28zm11-14.2H8.8v14.4h4.4V13.8zm12 4h-4.4v10.4h4.4V17.8z' clip-rule='evenodd'/%3E%3Cpath fill='#{$color}' d='M10.131 5.7c.35.01.693.12.984.323l10.58 7.757 3.603-4.86 1.285.952-3.485 4.702a1.802 1.802 0 01-2.51.378L10.025 7.21 7.063 11.22l-1.283-.954 2.863-3.84a1.798 1.798 0 011.488-.725z'/%3E%3C/svg%3E";
  @return url($icon);
}

@function imageIcon($color) {
  $color: "%23" + $color;
  $icon: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 32 32'%3E%3Cpath fill='#{$color}' d='M27.216 5H4.784A1.786 1.786 0 003 6.784v18.353a1.786 1.786 0 001.784 1.785h22.432A1.787 1.787 0 0029 25.137V6.784A1.786 1.786 0 0027.216 5zM4.784 6.53h22.432a.255.255 0 01.255.254v14.468l-4.092-4.091a1.786 1.786 0 00-2.523 0l-2.636 2.636a.255.255 0 01-.361 0l-5.695-5.695a1.786 1.786 0 00-2.523 0l-5.112 5.11V6.785a.255.255 0 01.255-.255zm22.432 18.862H4.784a.255.255 0 01-.255-.255v-3.762l6.193-6.192a.255.255 0 01.36 0l5.696 5.696a1.786 1.786 0 002.523 0l2.636-2.637a.255.255 0 01.361 0l5.173 5.173v1.722a.255.255 0 01-.255.255zm-8.549-12.099a1.274 1.274 0 111.803-1.802 1.274 1.274 0 01-1.803 1.802z'/%3E%3C/svg%3E%0A";
  @return url($icon);
}

@function noImageIcon($color) {
  $color: "%23" + $color;
  $icon: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 32 32'%3E%3Cpath fill='#{$color}' d='M4.784 26.922c-.473 0-.926-.19-1.26-.524l1.26-1.006h22.432a.255.255 0 00.255-.255v-1.722l-5.173-5.173a.255.255 0 00-.36 0L19.3 20.88a1.786 1.786 0 01-2.523 0L13.93 18.03l1.081-1.081 2.848 2.847a.255.255 0 00.36 0l2.637-2.636a1.786 1.786 0 012.523 0l4.092 4.091V6.784a.256.256 0 00-.075-.18l1.08-1.08c.335.334.524.787.524 1.26v18.353a1.786 1.786 0 01-1.784 1.785H4.784z'/%3E%3Cpath fill-rule='evenodd' fill='#{$color}' d='M31.358 4.518L2 29 .719 27.464 30.077 2.982l1.281 1.536z' clip-rule='evenodd'/%3E%3Cpath fill='#{$color}' d='M3.523 5.523A1.786 1.786 0 014.784 5H24l-1.882 1.53H4.784a.255.255 0 00-.255.254v12.429l5.112-5.111a1.787 1.787 0 012.523 0l.398.398-1.19.973-.29-.29a.255.255 0 00-.36 0L4.5 21 3 22.359V6.784c0-.473.189-.926.523-1.26z'/%3E%3Cpath fill='#{$color}' d='M16.055 11.644a1.276 1.276 0 102.441-.74 1.276 1.276 0 00-2.441.74z'/%3E%3C/svg%3E%0A";
  @return url($icon);
}

@function renewIcon($color) {
  $color: "%23" + $color;
  $icon: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 32 32'%3E%3Cpath fill='#{$color}' d='M3 16a16.433 16.433 0 00.001.2M25.388 22.11a.2.2 0 00-.168-.31H21a.8.8 0 110-1.6h5.8a1 1 0 011 1V27a.8.8 0 11-1.6 0v-2.68a.2.2 0 00-.354-.128 12.8 12.8 0 01-22.607-7.18c-.035-.446.328-.812.776-.812.437 0 .79.35.828.786a11.2 11.2 0 0020.545 5.123zM28.8 15.813v-.031l-.001-.169M6.412 9.704a.2.2 0 00.168.31h4.22a.8.8 0 110 1.6H5a1 1 0 01-1-1v-5.8a.8.8 0 111.6 0v2.68a.2.2 0 00.354.127 12.8 12.8 0 0122.607 7.18c.035.446-.328.812-.776.812-.436 0-.79-.35-.828-.786A11.2 11.2 0 006.412 9.704z'/%3E%3Cpath fill='#{$color}' d='M15.5 11.75a.75.75 0 00-1.5 0v5.5c0 .414.336.75.75.75h5.5a.75.75 0 000-1.5H15.5v-4.75z'/%3E%3C/svg%3E%0A";
  @return url($icon);
}

// https://yoksel.github.io/url-encoder/ 사이트에서 변환 필요
// area
.object-area {
  background: $odd-row areaIcon(77889a) no-repeat center;

  &:hover:not([preview]) {
    background: $ui-01 areaIcon(4daeff) no-repeat center;
  }

  &.canvas-object--active {
    background: $ui-01 areaIcon(4daeff) no-repeat center;
  }
}

.object-image {
  background: $odd-row imageIcon(77889a) no-repeat center;

  &:hover:not([preview]) {
    background: $ui-01 imageIcon(4daeff) no-repeat center;
  }

  &.canvas-object--active {
    background: $ui-01 imageIcon(4daeff) no-repeat center;
  }
}

.object-image--error {
  background: $odd-row noImageIcon(77889a) no-repeat center;

  &:hover:not([preview]) {
    background: $ui-01 noImageIcon(4daeff) no-repeat center;
  }

  &.canvas-object--active {
    background: $ui-01 noImageIcon(4daeff) no-repeat center;
  }
}

.object-renew {
  background: $odd-row renewIcon(77889a) no-repeat center;

  &:hover:not([preview]) {
    background: $ui-01 renewIcon(4daeff) no-repeat center;
  }

  &.canvas-object--active {
    background: $ui-01 renewIcon(4daeff) no-repeat center;
  }
}

.object-area--bg-none {
  background: none;
}

.object-area--active:not([preview]).object-area--bg-none {
  background: none;
}

// check-and-radio
.object-check-and-radio {
}

.vertical-align-wrap {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: auto;
}

.vertical-align-inner {
  display: table;
  width: 100%;
  height: 100%;
}

.vertical-align-inner__table-cell {
  display: table-cell;
  position: relative;
}

.vertical-align-inner__table-cell.col .checkbox,
.vertical-align-inner__table-cell.col .radio {
  display: inline-flex;
}

.vertical-align-inner__table-cell.top {
  vertical-align: top;
}

.vertical-align-inner__table-cell.middle {
  vertical-align: middle;
}

.vertical-align-inner__table-cell.bottom {
  vertical-align: bottom;
}

// combo
.object-combo-box {
}

.object-combo-box .select,
.object-combo-box .select-selector {
  width: 100%;
  height: 100%;
}

// datetime-range-picker
.object-datetime-range-picker {
}

.object-datetime-range-picker .division-line {
  margin-top: $spacing-xs;
}

.date-picker-selector__input-separator {
  margin: 0 $spacing-2xs;
  color: $text-02;
}


// html
// TODO: BEM 적용 및 개선 필요
.html-view {
  text-align: left;
  overflow: hidden;
  width: 100%;
  height: 100%;
}

.html-view .layer-button {
  position: absolute;
  text-align: right;
  z-index: 8;
  top: 12px;
  right: 12px;
}

.html-view pre {
  border: 0;
  padding: 10px;
  text-align: left;
  height: 100%;
  white-space: pre-wrap;
  word-break: break-all;
  overflow: auto;
}

.html-view .html-draw {
  border: 0;
  padding: 10px;
  text-align: left;
  height: 100%;
  overflow: auto;
}

// renew
.object-renew--filled {
  display: flex;
  justify-content: center;
  align-items: center;
  background: none;

  &:hover:not([preview]) {
    background: none;
  }
}

.renew-time {
  color: $text-02;
}

.renew-time__title {
  color: $text-02;
}

.renew-time__info-item:not(:last-child) {
  margin-right: $spacing-sm;
}

.renew-time__info-time {
  @include font-weight("regular");
  margin-left: $spacing-xs;
}

// label
.object-label {
  border: 1px dashed $ui-04;

  &:hover:not([preview]) {
    border: 1px solid $secondary;
  }
}

.object-label__align-box[contenteditable] {
  user-select: text;
}

// ellipse
.object-ellipse {
  border-radius: 50%;
}

.object-select {
}

.object-select .select,
.object-datetime-picker .date-picker,
.object-datetime-picker .date-picker-selector {
  width: 100%;
  height: 100%;
}

.object-select .select-selector {
  height: 100%;
}

.object-input .text-input {
  width: 100%;
  height: 100%;
}

.object-tab {
}

.object-tab .tab {
  width: 100%;
  height: 100%;
}

.object-fileupload .upload {
  width: 100%;
  height: 100%;
}

.object-button .button {
  width: 100%;
  height: 100%;
}

.object-button__text {
  @include text-overflow(100%);
  position: absolute;
  padding: 0 $spacing-sm;
}

.object-map__move-buttons {
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 6;
}

.object-map__layer-name {
  display: inline-block;
  background-color: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(27, 31, 35, 0.15);
  color: $text-01;
  font-weight: 400;
  padding: 3px 4px;
}

.object-map__layer-name-wrap {
  position: absolute;
  top: 12px;
  left: 54px;
  z-index: 6;
}

.object-hidden {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: $spacing-2xs $spacing-sm;
  background-color: $ui-01;
  border: 1px dashed $ui-04;
  color: $text-05;

  &:hover:not([preview]) {
    border: 1px solid $secondary;
  }

  &.canvas-object--active {
    background-color: $ui-01;
  }
}

.object-hidden__popout-button {
  display: none;
  padding: 0;
  margin-left: $spacing-3xs;

  .svg-icon {
    fill: $secondary;
  }
}

.object-hidden__text {
  @include text-overflow;
}

.object-hidden--loaded {
  color: $secondary;

  .object-hidden__icon {
    fill: $secondary;
  }

  .object-hidden__popout-button {
    display: inline-flex;
  }
}

.object-visible {
  border-style: solid;
}

// -------------------------
// canvas-object별 재정의
// -------------------------
.canvas-object .list,
.canvas-object .tags {
  width: 100%;
  height: 100%;
}

.canvas-object .tags,
.canvas-object .checkboxs,
.canvas-object .radios {
  height: 100%;
  padding: $spacing-2xs;
  overflow: auto;
}

// -------------------------
// canvas-object status
// -------------------------
.canvas-object.move {
  opacity: 0.5;
}

// .canvas-object--active {
//   border: 1px solid $secondary;
// }

.canvas-object--active span.tl,
.canvas-object--active span.tc,
.canvas-object--active span.tr,
.canvas-object--active span.cl,
.canvas-object--active span.cr,
.canvas-object--active span.bl,
.canvas-object--active span.bc,
.canvas-object--active span.br {
  position: absolute;
  width: 9px;
  height: 9px;
  border: 1px solid $secondary;
  background: $ui-01;
  z-index: 5;
}

.canvas-object--active span.tl {
  top: 0;
  left: 0;
  margin: -4px 0 0 -4px;
}

.canvas-object--active span.tc {
  top: 0;
  left: 50%;
  margin: -4px 0 0 -4px;
}

.canvas-object--active span.tr {
  top: 0;
  right: 0;
  margin: -4px -4px 0 0;
}

.canvas-object--active span.cl {
  top: 50%;
  left: 0;
  margin: -4px 0 0 -4px;
}

.canvas-object--active span.cr {
  top: 50%;
  right: 0;
  margin: -4px -4px 0 0;
}

.canvas-object--active span.bl {
  bottom: 0;
  left: 0;
  margin: 0 0 -4px -4px;
}

.canvas-object--active span.bc {
  bottom: 0;
  left: 50%;
  margin: 0 0 -4px -4px;
}

.canvas-object--active span.br {
  bottom: 0;
  right: 0;
  margin: 0 -4px -4px 0;
}

.canvas-object--connected::after,
.canvas-object--unconnected::after,
.canvas-object--select::after,
.canvas-object--deselect::after,
.canvas-object--draw::after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  content: "";
  pointer-events: none;
}

.canvas-object--deselect::after {
  background-color: rgba($ui-02, 0.6);
  // box-shadow: 0 4px 8px 0 rgb(0 0 0 / 20%); //TODO: 디자인 가이드 적용 필요
}

.canvas-object--select::after {
  background-color: rgba($ui-02, 0.6);
  // z-index: 9999;
  border: solid 1px $secondary;
  margin: -1px;
}

.canvas-object--unconnected::after {
  background-color: rgba($ui-02, 0.6);
  z-index: 10; // TODO: z-index function 적용
}

.canvas-object--connected {
  color: $secondary;

  &::after {
    background-color: rgba($secondary, 0.1);
    border: 1px solid $secondary;
  }

  .object-hidden__icon {
    fill: $secondary;
  }
}

// NOTE: box select -> canvas-object--draw로 변경
// .canvas-object--draw::after {
//   // z-index: 9999;
//   border: solid 1px $secondary;
//   margin: -1px;
// }

.canvas-object > .checkbox {
  position: absolute;
  top: 8px;
  left: 8px;
  z-index: 11;
}

// -------------------------
// Side panel
// -------------------------
// toggle-button과 유사한 스타일이지만 selected 불가능한 스타일
.visual-style-preview {
  display: flex;
  align-items: center;
  padding: 0 $spacing-sm;
  height: $button-height-md;
  border-radius: $button-border-radius;
  text-align: center;
  border: 1px solid transparent;
  background-color: rgba(171, 175, 186, 0.5);
  color: $text-04;
  cursor: default;

  &:focus {
    outline: none;
  }
}

.visual-style-preview .svg-icon {
  width: rem(20px);
  height: rem(20px);
  fill: $text-04;
}

.visual-style-preview--selected {
  background-color: $primary;
}

.side-panel-tab__body--has-play-button {
  padding-bottom: $layout-lg;
}

.side-panel-tab__play-button {
  display: flex;
  align-items: center;
  position: fixed;
  bottom: 0;
  margin-left: -$spacing-sm;
  height: rem(56px);
  width: rem(300px);
  padding: $spacing-sm;
  background-color: $ui-02;
  border-top: 1px solid $ui-04;
  z-index: 5;
}

.play-button {
  width: 100%;
}

.img-icon--map-type {
  width: rem(32px);
  height: rem(32px);
  background-image: url("#{$img-path}/common/icon_map-type.png");
}

.toggle-button__item:not(:disabled):hover .img-icon--map-type {
  background-position-y: rem(-32px);
}

.toggle-button__item--selected .img-icon--map-type {
  background-position-y: rem(-32px);
}

.img-icon--map-type.map-openstreetmap {
  background-position-x: 0;
}

.img-icon--map-type.map-naver {
  background-position-x: rem(-32px);
}

.img-icon--map-type.map-google {
  background-position-x: rem(-64px);
}

.img-icon--map-type.map-ngii {
  background-position-x: rem(-96px);
}
